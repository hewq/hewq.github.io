(self.webpackChunka20201124_znumberz=self.webpackChunka20201124_znumberz||[]).push([[143],{279:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.levelNotZeroNumList=t.levelList=void 0,t.levelList=[[[0,0,0,0,0,0],[3,2,3,2,2,2],[0,0,2,3,2,2],[2,0,2,2,0,0],[0,2,3,0,2,2],[2,3,0,2,0,4]],[[0,2,3,3,2,1],[2,0,3,3,0,2],[1,4,3,3,0,1],[1,4,3,3,0,1],[2,0,3,3,0,2],[0,2,3,3,2,1]],[[0,2,2,2,0,2],[1,1,1,1,1,1],[1,3,0,3,3,1],[1,3,3,3,3,1],[1,1,1,1,1,1],[4,4,0,4,0,1]],[[3,4,2,2,0,2],[1,1,1,1,1,1],[0,1,3,0,3,1],[1,3,1,3,1,1],[1,1,1,1,1,1],[3,0,0,4,0,1]],[[4,2,1,2,1,4],[1,2,1,1,2,1],[1,3,2,3,3,1],[1,1,2,2,3,1],[1,0,1,1,2,1],[4,0,0,4,1,4]],[[3,2,1,1,2,1],[1,2,1,0,2,2],[2,1,1,1,2,1],[1,2,1,1,2,1],[0,2,1,1,2,4],[3,0,0,4,0,4]],[[2,0,2,3,0,2],[0,2,1,3,2,1],[2,0,1,3,0,2],[0,2,3,3,2,1],[2,0,1,3,0,2],[0,2,0,3,2,1]],[[1,3,0,1,1,2],[0,4,0,0,2,3],[3,1,0,0,3,1],[1,2,0,0,1,2],[4,3,1,0,4,3],[2,4,1,1,2,4]],[[4,1,0,0,2,4],[2,4,2,4,1,0],[0,0,2,0,4,2],[1,1,0,0,4,2],[2,4,1,4,0,1],[3,0,4,1,0,4]],[[3,2,2,0,2,0],[2,3,2,3,2,0],[0,1,3,1,2,2],[1,1,0,0,0,1],[2,2,1,3,3,1],[3,2,1,1,2,2]]],t.levelNotZeroNumList=[21,28,31,30,33,31,26,27,25,29]},769:(e,t,i)=>{"use strict";i(260);const s=i(47),a=i(708),n=i(743),o={type:Phaser.AUTO,backgroundColor:"#202020",scale:{mode:Phaser.Scale.WIDTH_CONTROLS_HEIGHT,autoCenter:Phaser.Scale.CENTER_BOTH,parent:"game",width:750,height:1624},plugins:{scene:[{key:"dialogPlugin",plugin:s.default,mapping:"dialog"}]},scene:[n.default,a.default]};class r extends Phaser.Game{constructor(e){super(e),this.width=Number(this.config.width),this.height=Number(this.config.height)}}window.game=new r(o)},708:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(279);let a,n,o,r,d,l,h;const c="original_level";let g=[],w=[],u=!1,p=!1,m=1,v=0,S=1;const f=10;let b=0;const y={tileSize:100,filedSize:{rows:6,cols:6},margin:10,colors:[3355443,15344222,15690752,1471676,3706428,16777215],directions:[new Phaser.Math.Vector2(0,-1),new Phaser.Math.Vector2(1,-1),new Phaser.Math.Vector2(1,0),new Phaser.Math.Vector2(1,1),new Phaser.Math.Vector2(0,1),new Phaser.Math.Vector2(-1,1),new Phaser.Math.Vector2(-1,0),new Phaser.Math.Vector2(-1,-1)]};class P extends Phaser.Scene{constructor(){super({key:"MainScene"})}preload(){this.load.spritesheet("title",i(907).Z,{frameWidth:750,frameHeight:100}),this.load.spritesheet("numbers",i(497).Z,{frameWidth:50,frameHeight:50}),this.load.spritesheet("btns",i(256).Z,{frameWidth:100,frameHeight:100}),this.load.image("lock",i(36).Z)}init(){this.restart(),this.initUnlockLevel(),this.dialog.init()}create(){a=this.add.container(window.game.width+window.game.width/2,window.game.height/2),a.setSize(window.game.width,window.game.height),a.setInteractive(),this.events.on("transitionstart",(()=>{this.tweens.add({targets:a,props:{x:window.game.width/2},duration:300})})),a.add(this.add.sprite(0,-560,"title",0));const e=this.add.sprite(-280,-320,"btns",0).setInteractive(),t=this.add.sprite(20,-320,"btns",3).setInteractive();l=this.add.sprite(-180,-320,"btns",1).setInteractive(),h=this.add.sprite(-80,-320,"btns",2).setInteractive(),this.setBtnStyle(),a.add([e,l,h,t]);let i=!1;a.on("pointerdown",(()=>{i=!0;const e=this.time.addEvent({callback:()=>{i&&(localStorage.removeItem(c),console.log("localStorage storageKeyLevel already clear"),e.destroy())},delay:5e3})})),a.on("pointerup",(()=>{i=!1})),e.on("pointerdown",(()=>{this.scene.transition({target:"StartScene",duration:300,onUpdate:this.transitionOut,data:{x:window.game.width}})})),l.on("pointerdown",(()=>{this.switchLevel(-1)})),h.on("pointerdown",(()=>{this.switchLevel(1)})),t.on("pointerdown",(()=>{this.refresh()})),r=this.add.text(320,-270,`${m}/10`,{fontSize:74,fontFamily:"Arail",color:"#ffffff"}).setOrigin(1),a.add(r),this.createTotalLevel(),d=this.add.container().setVisible(!1);const s=this.add.rectangle(4,76,750,650,0,.5);d.add(s),d.add(this.add.image(3,80,"lock")),s.setInteractive(),a.add(d)}setCurLevelIndex(){v=m-1}initUnlockLevel(){const e=Number(localStorage.getItem(c));e?(S=e>f?f:e,m=S,this.setCurLevelIndex()):localStorage.setItem(c,String(S))}switchLevel(e){const t=m+e;t>0&&t<=f&&(this.refresh(),this.add.tween({targets:g[v],props:{x:window.game.width},duration:300}),this.add.tween({targets:g[t-1],props:{x:0},duration:300}),m=t,this.setCurLevelIndex(),r.setText(`${m}/10`)),this.setBtnStyle(),this.setLock()}setLock(){m>S?d.setVisible(!0):d.setVisible(!1)}setBtnStyle(){1===m?(l.setAlpha(.5),h.setAlpha(1)):m===f?(l.setAlpha(1),h.setAlpha(.5)):(l.setAlpha(1),h.setAlpha(1))}createTotalLevel(){for(let e=0;e<f;e++)this.createTileBoard(e)}transitionOut(e){a.x=window.game.width/2+window.game.width*e}getNumberFrameIndex(e){return e-1<0?5:e-1}createTileBoard(e){let t,i,n;const o=this.add.container();s.levelList[e].forEach(((e,s)=>{e.forEach(((e,a)=>{n=this.add.container().setSize(y.tileSize,y.tileSize).setInteractive(),t=this.add.rectangle(0,0,y.tileSize,y.tileSize,y.colors[e]),i=this.add.sprite(0,0,"numbers",this.getNumberFrameIndex(e)),n.add(t),n.add(i),n.setDataEnabled(),n.setData({value:e,row:s,col:a});const r=this;n.on("pointerdown",(function(){r.clickHandler(this)})),n.setPosition((y.tileSize+y.margin)*a-270,(y.tileSize+y.margin)*s-200),o.add(n)}))})),g.push(o),a.add(o),e!==v&&o.setPosition(window.game.width,0)}isWin(){return b===s.levelNotZeroNumList[v]}winHandler(){m!==f&&(m===S&&localStorage.setItem(c,String(++S)),this.switchLevel(1),this.dialog.show())}clickHandler(e){this.removeTween(),e.getData("value")<=0?(e.getData("active")&&(this.setTile(e),b++,this.isWin()&&this.winHandler()),this.resetTile(w),n=null):(this.resetTile(w),u=!0,n=e,this.getActiveTileList(),o=this.time.addEvent({callback:()=>{this.addTween([e,...w])},delay:100}))}resetTile(e){e.forEach((e=>{e.setData("active",!1),e.getAt(0).setFillStyle(y.colors[0])}))}setTile(e){const t=n.getData("value");e.setData("value",-1),n.setData("value",0),e.getAt(1).setFrame(this.getNumberFrameIndex(t)),n.getAt(1).setFrame(this.getNumberFrameIndex(0)),n.getAt(0).setFillStyle(y.colors[0])}getActiveTileList(){let e,t,i;const[s,a,o]=n.getData(["value","row","col"]);w=[],y.directions.forEach((n=>{e=a+s*n.y,t=o+s*n.x,e>=0&&e<y.filedSize.rows&&t>=0&&t<y.filedSize.cols&&(i=g[v].getAt(y.filedSize.cols*e+t),0===i.getData("value")&&(i.setData("active",!0),i.getAt(0).setFillStyle(y.colors[y.colors.length-1]),w.push(g[v].getAt(y.filedSize.cols*e+t))))}))}addTween(e){o&&o.destroy(),this.add.tween({targets:e,props:{scale:.9},duration:100,yoyo:!0,repeat:-1,onRepeat:e=>{p&&(e.stop(),p=!1)},ease:Phaser.Math.Easing.Sine.InOut})}removeTween(){u&&(p=!0,u=!1)}restart(){g=[],w=[],u=!1,p=!1,m=1,v=0,S=1,b=0}refresh(){const e=g[v].list;let t;s.levelList[v].forEach(((i,s)=>{i.forEach(((i,a)=>{t=e[s*y.filedSize.cols+a],t.getAt(0).setFillStyle(y.colors[i]),t.getAt(1).setFrame(this.getNumberFrameIndex(i)),t.setData({value:i})}))})),w=[],b=0,this.removeTween()}}t.default=P},743:(e,t,i)=>{"use strict";let s;Object.defineProperty(t,"__esModule",{value:!0});class a extends Phaser.Scene{constructor(){super({key:"StartScene"})}preload(){this.load.image("logo",i(473).Z)}create(e){s=this.add.container(window.game.width/2+(e.x||0),window.game.height/2),s.add(this.add.image(0,-550,"logo")),this.input.on("pointerdown",(()=>{this.scene.transition({target:"MainScene",duration:300,onUpdate:this.transitionOut})})),this.events.on("transitionstart",(()=>{this.add.tween({targets:s,props:{x:window.game.width/2},duration:300})}))}transitionOut(e){s.x=window.game.width/2+window.game.width*e}}t.default=a},47:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i extends Phaser.Plugins.ScenePlugin{constructor(e,t){super(e,t),this.scene=e}boot(){this.systems.events.on("destroy",this.sceneDestroy,this)}init(){this.bg=this.scene.add.rectangle(window.game.width/2,window.game.height/2,window.game.width,window.game.height,0,.8).setDepth(10).setInteractive();const e=this.scene.add.rectangle(0,0,500,250,0,.6);this.container=this.scene.add.container(window.game.width/2,window.game.height/2),e.setStrokeStyle(2,15344222,1),this.container.add(e);const t=this.scene.add.text(0,0,"you winðŸ¤©",{font:"bold 50px Arial",fill:"#ea225e"}).setOrigin(.5);this.container.add(t),this.container.setDepth(10),this.container.setScale(0),this.bg.setVisible(!1),this.bg.on("pointerdown",(()=>{this.bg.setVisible(!1),this.container.setScale(0)}))}sceneDestroy(){this.scene.dialog.destroy()}show(){this.bg.setVisible(!0),this.scene.add.tween({targets:this.container,props:{scale:1},duration:500,ease:Phaser.Math.Easing.Sine.In})}}t.default=i},256:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});const s=i.p+"btns.8d00a44.png"},36:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});const s=i.p+"lock.9363bc6.png"},473:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});const s=i.p+"logo.e10d7d2.png"},497:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});const s=i.p+"numbers.36954ac.png"},907:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});const s=i.p+"title.05c8e17.png"}},0,[[769,736]]]);